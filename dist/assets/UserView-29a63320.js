import{d as V,u as B,r as T,c as p,a as o,o as n,b as u,w as e,e as t,f as i,g as m,t as U,h as $,i as D,j as x,k as M,s as C}from"./index-ca8dec90.js";import{u as O,_ as z}from"./PostsListing.vue_vue_type_script_setup_true_lang-38e7a02b.js";const R={class:"text-black"},W={key:0,class:"pl-1 text-green"},q={class:"text-center"},F=["href"],G=["href"],H=V({__name:"UserCard",props:{user:{}},setup(k){const _=k,h=B(),a=T(!1);let l={..._.user};const g=p(()=>_.user.bio??"No bio specified yet"),d=p(()=>_.user.lastVisitAt-Date.now()<1e4),w=()=>{a.value=!a.value},f=()=>{h.saveUser(l.id,l),a.value=!1};return(c,v)=>{const y=o("v-avatar"),s=o("v-col"),r=o("v-row"),P=o("v-card-title"),S=o("v-card-subtitle"),j=o("v-textarea"),N=o("v-card-text"),b=o("v-btn"),E=o("v-card-actions"),I=o("v-card");return n(),u(I,{loading:"",color:"white",class:"pa-3"},{default:e(()=>[t(P,null,{default:e(()=>[t(r,{justify:"center"},{default:e(()=>[t(s,{cols:"auto"},{default:e(()=>[t(y,{image:c.user.avatar,size:"60"},null,8,["image"])]),_:1})]),_:1})]),_:1}),t(S,null,{default:e(()=>[t(r,{justify:"center"},{default:e(()=>[t(s,{cols:"auto"},{default:e(()=>[i("h3",R,[m(U(c.user.name)+" ",1),d.value?(n(),$("small",W,"Online")):D("",!0)])]),_:1})]),_:1})]),_:1}),t(N,null,{default:e(()=>[a.value?(n(),u(r,{key:1},{default:e(()=>[t(s,{cols:"12"},{default:e(()=>[t(j,{modelValue:x(l).bio,"onUpdate:modelValue":v[0]||(v[0]=A=>x(l).bio=A),rows:"3","max-rows":"6"},null,8,["modelValue"])]),_:1})]),_:1})):(n(),u(r,{key:0},{default:e(()=>[t(s,{cols:"12"},{default:e(()=>[i("small",q,U(g.value),1)]),_:1}),t(s,{cols:"12"},{default:e(()=>[t(r,{justify:"center"},{default:e(()=>[t(s,{cols:"auto"},{default:e(()=>[i("a",{href:c.user.twitter,tag:"button"},"Twitter",8,F)]),_:1}),t(s,{cols:"auto"},{default:e(()=>[i("a",{href:c.user.website,tag:"button"},"Website",8,G)]),_:1})]),_:1})]),_:1})]),_:1}))]),_:1}),t(E,null,{default:e(()=>[t(r,{justify:"center"},{default:e(()=>[a.value?(n(),u(s,{key:1,cols:"auto"},{default:e(()=>[t(b,{onClick:w},{default:e(()=>[m("Cancel")]),_:1}),t(b,{onClick:f},{default:e(()=>[m("Save profile")]),_:1})]),_:1})):(n(),u(s,{key:0,cols:"auto"},{default:e(()=>[t(b,{variant:"outlined",onClick:w},{default:e(()=>[m("Edit profile")]),_:1})]),_:1}))]),_:1})]),_:1})]),_:1})}}}),J=i("h4",{class:"text-white"},"User activity",-1),Q=V({__name:"UserView",setup(k){const _=M().getAuthUserId,{getUserById:h}=C(B()),a=p(()=>h.value(_)),{getPostsByUserId:l}=C(O()),g=p(()=>{var d;return l.value((d=a.value)==null?void 0:d.id)});return(d,w)=>{const f=o("v-col"),c=o("v-spacer"),v=o("v-row"),y=o("v-container");return n(),u(y,{class:"mt-3 px-2 py-1"},{default:e(()=>[t(v,null,{default:e(()=>[t(f,{lg:"3",md:"4",sm:"12"},{default:e(()=>[t(H,{user:a.value},null,8,["user"])]),_:1}),t(c),t(f,{lg:"8",md:"7",sm:"12"},{default:e(()=>[J,t(z,{posts:g.value},null,8,["posts"])]),_:1})]),_:1})]),_:1})}}});export{Q as default};
