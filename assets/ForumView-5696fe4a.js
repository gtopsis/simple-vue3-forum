import{d as y,c as g,s as k,u as T,a,o as f,b,w as e,e as t,g as w,t as _,f as r,_ as B,h as $,l as F,F as L,m as V,n as C,T as S}from"./index-ca8dec90.js";import{_ as I}from"./BaseDateAgo.vue_vue_type_script_setup_true_lang-a542b779.js";const N={class:"secondary text-black"},R={class:"text-black"},A={class:"text-black"},O={class:"text-black mr-2"},U={class:"text-grey-darken-2"},j=y({__name:"ThreadItem",props:{thread:{}},setup(m){const u=m,p=g(()=>{var n,c;const s=((c=(n=u.thread)==null?void 0:n.contributors)==null?void 0:c.length)||0;return s!==1?`${s} contributors`:`${s} contributor`}),{getUserById:l}=k(T()),d=g(()=>l.value(u.thread.userId));return(s,n)=>{const c=a("RouterLink"),o=a("v-col"),v=a("v-spacer"),x=a("v-avatar"),i=a("v-row");return f(),b(i,{class:"forum mt-4",align:"center"},{default:e(()=>[t(o,{cols:"5"},{default:e(()=>[t(c,{to:{name:"threadView",params:{threadId:s.thread.id}},class:"text-deep-purple-darken-1"},{default:e(()=>[w(_(s.thread.title),1)]),_:1},8,["to"]),r("p",N,[r("small",null,_(p.value),1)])]),_:1}),t(v),t(o,{cols:"2"},{default:e(()=>[r("span",R,_(s.thread.posts.length)+" posts",1),r("h6",A,[w(" Last post "),t(I,{timestamp:s.thread.lastPostAt},null,8,["timestamp"])])]),_:1}),t(o,{cols:"auto",class:"pr-0"},{default:e(()=>{var h;return[t(x,{size:"30px",image:(h=d.value)==null?void 0:h.avatar,class:"mr-2"},null,8,["image"])]}),_:1}),t(o,{sm:"4",md:"3",lg:"2",class:"pl-0"},{default:e(()=>[t(i,{"no-gutters":""},{default:e(()=>[t(o,{cols:"12"},{default:e(()=>{var h;return[r("small",O,"By "+_((h=d.value)==null?void 0:h.name),1)]}),_:1}),t(o,{cols:"12"},{default:e(()=>[r("small",U,[w(" Opened "),t(I,{timestamp:s.thread.publishedAt},null,8,["timestamp"])])]),_:1})]),_:1})]),_:1})]),_:1})}}});const z=B(j,[["__scopeId","data-v-677cfb81"]]),D={class:"text-white"},E=y({__name:"ThreadsListing",props:{threads:{}},setup(m){const u=m;return(p,l)=>{const d=a("v-col"),s=a("v-row"),n=a("v-container");return f(),b(n,{fluid:"",class:"px-0"},{default:e(()=>[t(s,null,{default:e(()=>[t(d,{cols:"auto","align-self":"center"},{default:e(()=>[r("span",D,_(p.threads.length)+" threads",1)]),_:1})]),_:1}),(f(!0),$(L,null,F(u.threads,c=>(f(),b(z,{key:c.id,class:"mx-0",thread:c},null,8,["thread"]))),128))]),_:1})}}}),P={class:"text-white"},q={class:"text-white"},J=y({__name:"ForumView",props:{forumId:{}},setup(m){const u=m,{getForumById:p}=k(V()),l=g(()=>p.value(u.forumId)),{getThreadsByForumId:d}=k(C()),s=g(()=>{var n;return l.value?d.value((n=l.value)==null?void 0:n.id):[]});return(n,c)=>{const o=a("v-col"),v=a("v-row"),x=a("v-container");return f(),b(x,{class:"mt-3 pa-1 mb-4"},{default:e(()=>[t(v,{"no-gutters":""},{default:e(()=>[t(o,{cols:"auto"},{default:e(()=>[t(S)]),_:1})]),_:1}),t(v,{class:"mb-2",justify:"space-between","no-gutters":""},{default:e(()=>[t(o,{cols:"12"},{default:e(()=>{var i;return[r("h2",P,_((i=l.value)==null?void 0:i.name),1)]}),_:1}),t(o,{cols:"12"},{default:e(()=>[r("small",q,_(l.value.description),1)]),_:1})]),_:1}),t(E,{threads:s.value},null,8,["threads"])]),_:1})}}});export{J as default};
